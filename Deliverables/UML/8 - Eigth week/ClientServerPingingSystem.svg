<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="1405" height="1020"><desc>title%20Client-Server%20Pinging%20System%0Aparticipant%20SocketClientConnection%0Aparticipant%20ServerConnectionStatusHandler%0Aparticipant%20ClientConnectionStatusHandler%0Aparticipant%20Client%0A%0Aactivate%20SocketClientConnection%0Aactivate%20Client%0A%0Anote%20left%20of%20SocketClientConnection%3A%20on%20Client%20connection%0ASocketClientConnection-%3EServerConnectionStatusHandler%3Anew%20ServerConnectionStatusHandler()%0ASocketClientConnection-%3EServerConnectionStatusHandler%3AsetConnection(this)%0A%0Anote%20right%20of%20Client%3A%20on%20Client%20connection%0AClient-%3EClientConnectionStatusHandler%3Anew%20ClientConnectionStatusHandler()%0AClient-%3EClientConnectionStatusHandler%3AsetClient%0A%0Aalt%20both%20client%20and%20server%20are%20connected%0Aloop%20connection%20is%20active%0AServerConnectionStatusHandler--%3EClientConnectionStatusHandler%3APING%0AClientConnectionStatusHandler--%3EServerConnectionStatusHandler%3APONG%0Aend%0Aelse%20the%20server%20disconnects%0Anote%20over%20SocketClientConnection%2CClient%3A%20server-side%20the%20socket%20will%20get%20corrupted%2C%20so%20the%20server%20will%20identify%20that%20and%20close%20its%20application.%20Client-side%2C%20ClientConnectionStatusHandler%5Cnwill%20not%20receive%20any%20PING%2C%20so%20its%20timer%2C%20after%2010%20secs%20will%20trigger%20and%20close%20the%20client%20connection.%0Aelse%20client%20disconnects%0Anote%20over%20SocketClientConnection%2CClient%3A%20client-side%20the%20socket%20will%20get%20corrupted%2C%20so%20the%20client%20will%20identify%20that%20and%20close%20its%20application.%20Server-side%2C%20ServerConnectionStatusHandler%5Cnwill%20not%20receive%20any%20PONG%2C%20so%20its%20timer%2C%20after%2010%20secs%20will%20trigger%20and%20close%20the%20server%20socket%20and%20connection%20with%20that%20client.%20%0Aend%0A%0Anote%20over%20Client%2CSocketClientConnection%3ABoth%20the%20Client%20and%20Server%20ConnectionStatusHandlers%20have%20a%20timer%20of%2010%20secs.%20Each%20time%20they%20respectively%20receive%20a%20PING%20or%20a%20PONG%5Cntheir%20timer%20resets.%20If%20they%20do%20not%20receive%20the%20PING%2FPONG%20their%20timer%20will%20trigger%20and%20it%20will%20abort%20the%20connection%20respectively%20client-side%20and%20server-side.%0A</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="1405" height="1020"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="558.9158871823828" y="24.50280495" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client-Server Pinging System</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 203.0831252886328 95.887643371 L 203.0831252886328 1020.4601501510001" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 572.9934391340116 95.887643371 L 572.9934391340116 1020.4601501510001" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 832.1703664807538 95.887643371 L 832.1703664807538 1020.4601501510001" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1202.0806803261328 95.887643371 L 1202.0806803261328 1020.4601501510001" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="12.565541,5.445067766666667"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 107.12753426135545 51.782594461 L 299.03871631591016 51.782594461 L 299.03871631591016 95.887643371 L 107.12753426135545 95.887643371 L 107.12753426135545 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="124.85122984185546" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">SocketClientConnection</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 450.14810048710535 51.782594461 L 695.8387777809179 51.782594461 L 695.8387777809179 95.887643371 L 450.14810048710535 95.887643371 L 450.14810048710535 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="467.8717960676054" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ServerConnectionStatusHandler</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 712.1739810809179 51.782594461 L 952.1667518805898 51.782594461 L 952.1667518805898 95.887643371 L 712.1739810809179 95.887643371 L 712.1739810809179 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="729.8976766614179" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">ClientConnectionStatusHandler</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1165.6168342939727 51.782594461 L 1238.544526358293 51.782594461 L 1238.544526358293 95.887643371 L 1165.6168342939727 95.887643371 L 1165.6168342939727 51.782594461 Z" stroke-miterlimit="10" stroke-width="2.613632528" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1183.3405298744726" y="79.55244007099999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Client</text></g></g><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 194.9155236386328 104.05524502099999 L 211.2507269386328 104.05524502099999 L 211.2507269386328 1004.1249468510001 L 194.9155236386328 1004.1249468510001 L 194.9155236386328 104.05524502099999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1193.9130786761327 104.05524502099999 L 1210.2482819761328 104.05524502099999 L 1210.2482819761328 1004.1249468510001 L 1193.9130786761327 1004.1249468510001 L 1193.9130786761327 104.05524502099999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 194.9155236386328 147.34353376599998 L 186.7479219886328 147.34353376599998 M 8.16760165 128.558049971 L 172.0462390186328 128.558049971 L 186.7479219886328 143.259732941 L 186.7479219886328 166.12901756099998 L 8.16760165 166.12901756099998 L 8.16760165 128.558049971 M 172.0462390186328 128.558049971 L 172.0462390186328 143.259732941 L 186.7479219886328 143.259732941" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="31.036886269999997" y="151.42733459099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">on Client connection</text></g><g><g><rect fill="white" stroke="none" x="264.1851005759902" y="190.631822511" width="255.87396492066406" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="266.6353810709902" y="205.33350548099997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">new ServerConnectionStatusHandler()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 211.2507269386328 211.867586801 L 559.544121750345 211.867586801" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(572.9934391340116,211.867586801) translate(-572.9934391340116,-211.867586801)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 559.380769717345 205.06125209266665 L 572.9934391340116 211.867586801 L 559.380769717345 218.67392150933333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="326.52222826153707" y="236.37039175099997" width="131.19970954957031" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="328.9725087565371" y="251.07207472099995" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">setConnection(this)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 211.2507269386328 257.60615604099996 L 559.544121750345 257.60615604099996" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(572.9934391340116,257.60615604099996) translate(-572.9934391340116,-257.60615604099996)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 559.380769717345 250.79982133266662 L 572.9934391340116 257.60615604099996 L 559.380769717345 264.4124907493333 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 1210.2482819761328 300.89444478599995 L 1218.4158836261329 300.89444478599995 M 1218.4158836261329 282.10896099099995 L 1382.2945209947657 282.10896099099995 L 1396.9962039647658 296.8106439609999 L 1396.9962039647658 319.67992858099996 L 1218.4158836261329 319.67992858099996 L 1218.4158836261329 282.10896099099995 M 1382.2945209947657 282.10896099099995 L 1382.2945209947657 296.8106439609999 L 1396.9962039647658 296.8106439609999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="1241.2851682461328" y="304.9782456109999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">on Client connection</text></g><g><g><rect fill="white" stroke="none" x="887.9536933651816" y="344.18273353099994" width="250.17605842652344" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="890.4039738601816" y="358.8844165009999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">new ClientConnectionStatusHandler()</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1193.9130786761327 365.41849782099996 L 845.6196838644205 365.41849782099996" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(832.1703664807538,365.41849782099996) translate(-832.1703664807538,-365.41849782099996)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 845.7830358974205 358.6121631126666 L 832.1703664807538 365.41849782099996 L 845.7830358974205 372.2248325293333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="982.0732002011191" y="389.92130277099994" width="61.93704475464844" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="984.5234806961191" y="404.6229857409999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">setClient</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 1193.9130786761327 411.15706706099996 L 845.6196838644205 411.15706706099996" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g transform="translate(832.1703664807538,411.15706706099996) translate(-832.1703664807538,-411.15706706099996)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 845.7830358974205 404.3507323526666 L 832.1703664807538 411.15706706099996 L 845.7830358974205 417.9634017693333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="682.2110748270311" y="523.8699698309999" width="40.74165596070313" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="684.6613553220311" y="538.5716528009999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">PING</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 572.9934391340116 545.105734121 L 818.7210490970872 545.105734121" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(832.1703664807538,545.105734121) translate(-832.1703664807538,-545.105734121)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 818.5576970640872 538.2993994126666 L 832.1703664807538 545.105734121 L 818.5576970640872 551.9120688293333 Z"/></g></g><g><g><rect fill="white" stroke="none" x="678.5460739115038" y="569.6085390709999" width="48.071657791757815" height="21.23576429"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="680.9963544065038" y="584.3102220409999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">PONG</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 832.1703664807538 590.8443033609999 L 586.4427565176783 590.8443033609999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray="6.53408132"/><g transform="translate(572.9934391340116,590.8443033609999) translate(-572.9934391340116,-590.8443033609999)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 586.6061085506783 584.0379686526666 L 572.9934391340116 590.8443033609999 L 586.6061085506783 597.6506380693332 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 188.3814423186328 683.9549621709999 L 1202.0806803261326 683.9549621709999 L 1216.7823632961326 698.6566451409999 L 1216.7823632961326 737.8611330609999 L 188.3814423186328 737.8611330609999 L 188.3814423186328 683.9549621709999 M 1202.0806803261326 683.9549621709999 L 1202.0806803261326 698.6566451409999 L 1216.7823632961326 698.6566451409999" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="250.34526950660154" y="706.824246791" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">server-side the socket will get corrupted, so the server will identify that and close its application. Client-side, ClientConnectionStatusHandler</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="250.34526950660154" y="723.1594500909999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">will not receive any PING, so its timer, after 10 secs will trigger and close the client connection.</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 188.3814423186328 806.468986921 L 1202.0806803261326 806.468986921 L 1216.7823632961326 821.170669891 L 1216.7823632961326 860.375157811 L 188.3814423186328 860.375157811 L 188.3814423186328 806.468986921 M 1202.0806803261326 806.468986921 L 1202.0806803261326 821.170669891 L 1216.7823632961326 821.170669891" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="251.15413791480466" y="829.338271541" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">client-side the socket will get corrupted, so the client will identify that and close its application. Server-side, ServerConnectionStatusHandler</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="251.15413791480466" y="845.673474841" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">will not receive any PONG, so its timer, after 10 secs will trigger and close the server socket and connection with that client. </text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 188.3814423186328 909.3807677110001 L 1202.0806803261326 909.3807677110001 L 1216.7823632961326 924.0824506810001 L 1216.7823632961326 963.2869386010001 L 188.3814423186328 963.2869386010001 L 188.3814423186328 909.3807677110001 M 1202.0806803261326 909.3807677110001 L 1202.0806803261326 924.0824506810001 L 1216.7823632961326 924.0824506810001" stroke-miterlimit="10" stroke-width="1.3612669416666667" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="219.4183285886328" y="932.250052331" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Both the Client and Server ConnectionStatusHandlers have a timer of 10 secs. Each time they respectively receive a PING or a PONG</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="219.4183285886328" y="948.585255631" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">their timer resets. If they do not receive the PING/PONG their timer will trigger and it will abort the connection respectively client-side and server-side.</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 145.9099137386328 435.65987201099995 L 1259.2538918761327 435.65987201099995 L 1259.2538918761327 884.877962761 L 145.9099137386328 884.877962761 L 145.9099137386328 435.65987201099995 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 145.9099137386328 435.65987201099995 L 145.9099137386328 455.26211597099996 L 192.26911733570313 455.26211597099996 L 202.07023931570313 445.46099399099995 L 202.07023931570313 435.65987201099995 L 145.9099137386328 435.65987201099995" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="162.2451170386328" y="448.728034651" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">alt</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="218.40544261570312" y="448.728034651" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[both client and server are connected]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 145.9099137386328 639.8499132609999 L 1259.2538918761327 639.8499132609999" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray="4.083800825"/></g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="218.40544261570312" y="652.9180759009998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[the server disconnects]</text><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 145.9099137386328 762.363938011 L 1259.2538918761327 762.363938011" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray="4.083800825"/></g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="218.40544261570312" y="775.4321006509999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[client disconnects]</text></g><g><g/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 515.8202275840116 479.76492092099994 L 889.3435780307539 479.76492092099994 L 889.3435780307539 615.3471083109999 L 515.8202275840116 615.3471083109999 L 515.8202275840116 479.76492092099994 Z" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 515.8202275840116 479.76492092099994 L 515.8202275840116 499.36716488099995 L 573.2450287152616 499.36716488099995 L 583.0461506952615 489.56604290099995 L 583.0461506952615 479.76492092099994 L 515.8202275840116 479.76492092099994" stroke-miterlimit="10" stroke-width="2.3336004714285714" stroke-dasharray=""/><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="532.1554308840116" y="492.83308356099997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">loop</text><text fill="black" stroke="none" font-family="sans-serif" font-size="8.8pt" font-style="normal" font-weight="bold" text-decoration="normal" x="599.3813539952615" y="492.83308356099997" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">[connection is active]</text></g><g/><g/></g><g/><g/><g/><g/></g></svg>